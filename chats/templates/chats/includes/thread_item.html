<a href="{% url 'chats:chat_room' thread.other_user.username %}" class="thread-item" 
   style="display:flex; align-items:center; padding:15px; gap:12px; border-bottom:1px solid var(--bg-hover); text-decoration:none; color:inherit;">
    <div style="position:relative;">
        <img src="{% if thread.other_user.profile_image %}{{ thread.other_user.profile_image.url }}{% else %}https://ui-avatars.com/api/?name={{ thread.other_user.username }}{% endif %}" 
             style="width:50px; height:50px; border-radius:50%; object-fit:cover;">
        <div id="status-dot-{{ thread.other_user.id }}" class="status-dot offline"></div>
    </div>
    <div style="flex:1;">
        <h4 style="font-size:0.95rem; margin-bottom:2px;">{{ thread.other_user.username }}</h4>
        <p style="font-size:0.85rem; color:var(--text-secondary); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width:200px;">
            {{ thread.last_msg.text|default:"Shared a post" }}
        </p>
    </div>
    {% if thread.unread_count > 0 %}
        <span style="background:var(--accent-solid); color:white; padding:2px 8px; border-radius:10px; font-size:0.7rem;">{{ thread.unread_count }}</span>
    {% endif %}
</a>